{# templates/frontend/index.html.twig #}
{% extends 'base.html.twig' %}
{% block title %}Gestion des Tâches{% endblock %}

{% block body %}
<div class="container mx-auto p-6 bg-gray-900 min-h-screen text-gray-100">
  <h1 class="text-4xl font-extrabold mb-6">Gestion des Tâches</h1>

  {# Formulaire Symfony avec id parent #}
  {{ form_start(taskForm, { attr: { id: 'create-task-form' } }) }}

    {{ form_row(taskForm.titre, {
      attr: {
        id: 'task_titre',
        placeholder: 'Titre de la tâche',
        class: 'w-full mb-4 bg-gray-700 border border-gray-600 rounded px-4 py-2 text-gray-100'
      }
    }) }}

    {{ form_row(taskForm.description, {
      attr: {
        id: 'task_description',
        placeholder: 'Description de la tâche',
        class: 'w-full mb-4 bg-gray-700 border border-gray-600 rounded px-4 py-2 text-gray-100'
      }
    }) }}

    {{ form_row(taskForm.status, {
      attr: {
        id: 'task_status',
        class: 'w-full mb-4 bg-gray-700 border border-gray-600 rounded px-4 py-2 text-gray-100'
      }
    }) }}

    <button type="submit"
            class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg">
      Créer la tâche
    </button>

  {{ form_end(taskForm) }}

  <div id="task-list" class="mt-8">
    <h2 class="text-2xl font-semibold mb-4">Liste des Tâches</h2>
    <ul id="tasks" class="space-y-4"></ul>
  </div>
</div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  {{ encore_entry_script_tags('tasks') }}
{% endblock %}
